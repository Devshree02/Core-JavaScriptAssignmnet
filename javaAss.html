<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="java-Ass.css">
</head>
  <title>JavaScript</title>
  <body class="bg-img">
   
  	<h1>Information form</h1>

  	<div id="MainId" class="mainClass">
      <input type="text" id="inputName" placeholder="Enter your name" class="inputClass">
    </div>

    <button id = "add_new_button">Add New</button>
  	<button onclick="students.addStudent();">Submit</button>

    <!-- <p id = "pera" style="background-color:white;"></p> -->

  	<table border="1" id="tab">
  		<tr>
  			<th>S.No.</th>
  			<th>Name</th>
  		</tr>
  		
  	</table>
 
  	<script>
    
     //  let students ={
     //  student : [],
     //  count : 0,
     //  addOnly : function()  {
     //    var scriptName = document.getElementById("inputName").value;
     //    this.student.push(scriptName);
        
     //    alert("Added Successfully\n" + "" + this.student);
     //  },



     //  addStudent : function()  {
     //    var tabl = document.getElementById("pera");
     //    var table = document.getElementById("tab");
     //    var scriptName = document.getElementById("inputName").value;
     //    this.student.push(scriptName);
        
     //    for (let i = 0; i < this.student.length; i++){


           

     //      this.count++;

     //      var row = table.insertRow(this.count);
     //      var cell1 = row.insertCell(0);
     //      var cell2 = row.insertCell(1);
          
          
     //      cell1.innerHTML = this.count;
     //      cell2.innerHTML = this.student[i];
     //    }

     //   }
     // }
    

      let students = {
        count : 0,
        resetForm : function() {
          var new_stu = document.getElementsByClassName("new_student");
          var reset_input = document.getElementById("inputName").value = "";
          while (new_stu.length > 0) {
            new_stu[0].parentNode.removeChild(new_stu[0]);
          }

        },
        
        addOnly : function() {
          
          var inpt= document.getElementById("inputName");
          var cln= inpt.cloneNode(true);
          cln.classList.add("new_student"); 
          document.getElementById("MainId").appendChild(cln);
        },
        addStudent :function() {

          var table = document.getElementById("tab");
          var inptmain= document.getElementsByClassName("inputClass");
          var len=inptmain.length;
          for (var i = 0 ; i < len ; i++)
          {
            var val = inptmain[i].value;
            if (val){
              this.count++;
              var row = table.insertRow(table.rows.length);
              var cell1 = row.insertCell(0);
              var cell2 = row.insertCell(1);
          
              cell1.innerHTML = this.count;
              cell2.innerHTML = val;
            }
          }
          this.resetForm();
        }

      }
      document.getElementById("add_new_button").addEventListener("click", students.addOnly);
      // document.getElementById("submit_button").addEventListener("click", students.addStudent);


    </script>

  </body>
</html>